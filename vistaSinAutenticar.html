<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Explorar Pistas | Padel App</title>
    <script src="https://unpkg.com/mithril/mithril.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-slate-50">
    <div id="app"></div>

    <script>
      // --- ESTADO SIMPLIFICADO ---
      // Aqu铆 simulamos que no hay sesi贸n activa
      const State = {
        currentView: "pistas",
        isLoggedIn: false,
      };

      // --- COMPONENTE: PESTAAS (Versi贸n limitada) ---
      const NavTabs = {
        view: () =>
          m(
            "div",
            { class: "flex space-x-2 p-1.5 bg-[#0047ab] rounded-2xl mb-8" },
            [
              [
                ["pistas", " Reservar"],
                ["matchmaking", " Matchmaking"],
              ].map(([id, label]) =>
                m(
                  "button",
                  {
                    class: `flex-1 py-3 px-4 text-sm font-bold rounded-xl transition-all ${
                      State.currentView === id
                        ? "bg-white text-[#0047ab] shadow-sm"
                        : "text-white hover:bg-blue-500/50"
                    }`,
                    onclick: () => (State.currentView = id),
                  },
                  label,
                ),
              ),
              // Bot贸n de Login resaltado para invitar al usuario
              m(
                "button",
                {
                  class:
                    "px-6 py-3 text-sm font-bold text-white bg-green-500 rounded-xl hover:bg-green-600 ml-2",
                  onclick: () => (window.location.href = "login.html"),
                },
                "Identificarse",
              ),
            ],
          ),
      };

      // --- COMPONENTE: CONTENIDO DE INVITADO ---
      const GuestContent = {
        view: () =>
          m("div", { class: "space-y-6" }, [
            // Banner Informativo
            m(
              "div",
              {
                class:
                  "bg-white border border-slate-200 p-6 rounded-2xl shadow-sm text-center",
              },
              [
                m("div", { class: "flex justify-center items-center mb-4" }, [
                  m("span", {
                    class:
                      "w-3 h-3 bg-blue-500 rounded-full animate-pulse mr-2",
                  }),
                  m(
                    "h2",
                    { class: "text-xl font-bold text-slate-800" },
                    "Modo Explorador",
                  ),
                ]),
                m(
                  "p",
                  { class: "text-slate-600 mb-6" },
                  "Est谩s viendo las pistas disponibles en tiempo real. Para reservar o crear partidas privadas, necesitas una cuenta.",
                ),
                m("div", { class: "flex justify-center gap-4" }, [
                  m(
                    "button",
                    {
                      class:
                        "px-6 py-2 bg-[#0047ab] text-white rounded-lg font-bold hover:bg-blue-700",
                      onclick: () => (window.location.href = "registro.html"),
                    },
                    "Crear cuenta gratis",
                  ),
                ]),
              ],
            ),

            // Reutilizaci贸n visual de la lista de pistas (Solo lectura)
            m("div", { class: "grid gap-4" }, [
              m(
                "h3",
                { class: "font-bold text-slate-700 px-2" },
                "Pistas disponibles hoy:",
              ),
              [
                { club: "Padel Center", hora: "18:00h", status: "Libre" },
                {
                  club: "Indoor Padel",
                  hora: "19:30h",
                  status: "ltima pista",
                },
              ].map((pista) =>
                m(
                  "div",
                  {
                    class:
                      "flex justify-between items-center p-4 bg-white rounded-xl border border-slate-100 opacity-70",
                  },
                  [
                    m("div", [
                      m("span", { class: "block font-bold" }, pista.club),
                      m(
                        "span",
                        { class: "text-sm text-slate-500" },
                        pista.hora,
                      ),
                    ]),
                    m(
                      "span",
                      {
                        class:
                          "text-xs font-bold uppercase tracking-wider text-slate-400",
                      },
                      pista.status,
                    ),
                  ],
                ),
              ),
            ]),
          ]),
      };

      // --- LAYOUT PRINCIPAL ---
      const MainLayout = {
        view: () =>
          m("div", { class: "max-w-5xl mx-auto p-4 md:p-12" }, [
            
            m("main", { class: "max-w-5xl mx-auto p-4 md:p-12" }, [
              m(NavTabs),
              m(GuestContent),
            ]),
          ]),
      };

      m.mount(document.getElementById("app"), MainLayout);
    </script>
  </body>
</html>
